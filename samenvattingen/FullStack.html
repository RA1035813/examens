<!--
title: Fullstack
description: Samenvatting voor examen fullstack
published: true
date: 2025-05-28T09:44:26.012Z
tags: examen, fullstack
editor: code
dateCreated: 2025-05-27T18:52:46.061Z
-->

<h1 class="toc-header" id="cheat-sheet-fullstack"> Cheat Sheet Fullstack</h1>
<h2 class="toc-header" id="table-of-contents"> Table of Contents</h2>
<ul>
<li><a href="#frontend">Frontend</a>
<ul>
<li><a href="#project-structuur">Project Structuur</a></li>
<li><a href="#standard-opmaak-indexhtml">Standard opmaak Index.html</a></li>
<li><a href="#standaard-opmaak-maincss">Standaard opmaak main.CSS</a></li>
</ul>
</li>
<li><a href="#backend">Backend</a>
<ul>
<li><a href="#configpy">config.py</a></li>
<li><a href="#databasepy">database.py</a></li>
<li><a href="#mainpy">main.py</a></li>
<li><a href="#models">Models</a></li>
<li><a href="#queries">Queries</a></li>
<li><a href="#endpoints">Endpoints</a></li>
</ul>
</li>
<li><a href="#javascript">JavaScript</a></li>
<li><a href="#getter">GETTER</a></li>
<li><a href="#post">POST</a></li>
</ul>
<h2 class="toc-header" id="frontend"> Frontend</h2>
<h3 class="toc-header" id="project-structuur"> Project Structuur</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">Project
    CSS
        Bootstrap.min.CSS
            Bootstrap.min.css.map
        Js
            Bootstrap.bundle.min.js
        global_vars.CSS
        main.CSS
    Assets
        Images
        Logo.SVG
    Index.HTML
    Pages
        Contact.HTML
        aboutUs.HTML
        …
</code></pre>
<h3 class="toc-header" id="standard-opmaak-indexhtml"> Standard opmaak Index.html</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">&lt;html lang="nl"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"/&gt;
    &lt;meta content="width=device-width, initial-scale=1.0" name="viewport"&gt;
    &lt;title&gt;… &lt;/title&gt;
    &lt;meta content="Jolien Bracke" name="author"/&gt;
    &lt;link href="… " rel="stylesheet"&gt;
    &lt;link href="… " rel="shortcut icon" type="image/x-icon"/&gt;
    &lt;link href="https://cdnjs.cloudflare.com/ajax/libs/font-           awesome/6.6.0/css/all.min.css" rel="stylesheet"/&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;!--script--&gt;
&lt;script src="../common/js/bootstrap.bundle.min.js"&gt;&lt;/script&gt;
&lt;script src="… "&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 class="toc-header" id="standaard-opmaak-maincss"> Standaard opmaak main.CSS</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">/* Import student CSS letter types here*/
@import url('…’);
@import url('…’);


/* import */
@import "bootstrap.min.css";
@import "global_vars.css";
</code></pre>
<h2 class="toc-header" id="backend"> Backend</h2>
<h3 class="toc-header" id="configpy"> <a class="is-external-link" href="http://config.py">config.py</a></h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">import os
from dotenv import load_dotenv

load_dotenv()

db_connection = os.environ.get('DB_CONNECTION')
allowed_origins = os.environ.get('ALLOWED_ORIGINS', "")
</code></pre>
<h3 class="toc-header" id="databasepy"> <a class="is-external-link" href="http://database.py">database.py</a></h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">import psycopg
import config

def connect_to_database():
    try:
        connection = psycopg.connect(config.db_connection)
        return connection
    except psycopg.Error as error:
        print("Error connecting to the database:", error)
        return None

def execute_sql_query(sql_query, query_parameters=None):
    connection = connect_to_database()
    if not connection:
        return "Connection Error"

    result = None
    try:
        cursor = connection.cursor()
        cursor.execute(sql_query, query_parameters)

        if sql_query.strip().upper().startswith("SELECT"):
            # Execute SELECT queries for GET requests
            result = cursor.fetchall()
        else:
            # Execute non-SELECT queries (e.g., INSERT, UPDATE, DELETE) for POST requests
            connection.commit()
            result = True

        cursor.close()
    except psycopg.Error as exception:
        print("Error executing SQL query:", exception)
        result = exception
    finally:
        connection.close()

        return result
</code></pre>
<h3 class="toc-header" id="mainpy"> <a class="is-external-link" href="http://main.py">main.py</a></h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">from fastapi import FastAPI
from routes import student1_endpoints, student2_endpoints, student3_endpoints
from fastapi.middleware.cors import CORSMiddleware
import config

app = FastAPI(docs_url="/MatchaMoon")

origins = config.allowed_origins.split(",")

# middleware
app.add_middleware(
    CORSMiddleware,
    allow_origins=origins,
    allow_credentials=True,
    allow_methods=["GET", "POST"],
    allow_headers=["Content-Type", "Accept"],
)

app.include_router(router=student1_endpoints.app)
app.include_router(router=student2_endpoints.student2)
app.include_router(router=student3_endpoints.student3)

@app.get("/")
def root():
    return {"message": "Hello, World!"}
</code></pre>
<h3 class="toc-header" id="models"> model(s):</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">from pydantic import BaseModel
from datetime import date

class machines(BaseModel):
   name: str
   oorsprong: str
   garantie_startDate: date
   garantie_endDate: date
   functie: str = None
   comment: str = None
   price: float
   btw_nr: str
   leverancier: str


   icon: str = None
   klasse: str = None
   description: str = None
   onderTitel: str = None
</code></pre>
<h3 class="toc-header" id="queries"> Queries</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">get_name_machines_query = "SELECT name FROM student2.machines;"
get_accordion_machine_query = "SELECT id, name, icon, klasse, description, onderTitel FROM student2.machines"

insert_machines_query = "INSERT INTO student2.machines(name, oorsprong, garantie_startDate, garantie_enddate, functie, comment, price, btw_nr, leverancier, icon, klasse, description, onderTitel) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);"
</code></pre>
<h3 class="toc-header" id="endpoints"> Endpoints</h3>
<h5 class="toc-header" id="imports"> <strong>imports</strong></h5>
<p>´´´<br>
from fastapi import APIRouter<br>
import database<br>
import models.student2_models</p>
<p>from queries import student2_queries as queries<br>
´´´</p>
<h4 class="toc-header" id="get"> <em>Get</em></h4>
<p><strong><em>naam</em></strong></p>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">@student2.get("/machines/name")
def get_name_machines():
   query = queries.get_name_machines_query
   machines = database.execute_sql_query(query)
   if isinstance(machines, Exception):
       return machines, 500
   machines_to_return = []
   for machine in machines:
       dictionary = {"name": machine[0],}
       machines_to_return.append(dictionary)


   return {"machines": machines_to_return}
</code></pre>
<p><strong><em>accordion</em></strong></p>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">@student2.get("/machines/accordion")
def get_accordion_machines():
   query = queries.get_accordion_machine_query
   machines = database.execute_sql_query(query)
   if isinstance(machines, Exception):
       return machines, 500
   machines_to_return = []
   for machine in machines:
       dictionary = {"id" :machine[0],
                     "name": machine[1],
                     "icon" : machine[2],
                     "klasse" : machine[3],
                     "description" : machine[4],
                     "onderTitel" : machine[5]
                     }


       machines_to_return.append(dictionary)


   return {"machines": machines_to_return}
</code></pre>
<h4 class="toc-header" id="post"> <em>Post</em></h4>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">@student2.post("/machines")
def add_machine(machines: models.student2_models.machines):
   query = queries.insert_machines_query
   insert = database.execute_sql_query(query, (
       machines.name,
       machines.comment,
       machines.price,
       ))
   if insert == True:
       return machines
   else:
       return {"error": "Something went wrong..."}



</code></pre>
<h2 class="toc-header" id="javascript"> JavaScript</h2>
<p>(de functie pleaseWork werkte ook echt, zowel lokaal als op netlify. handig om alles op 1 .js bestand te krijgen)</p>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">const title = document.title.trim();
function pleaseWork() {
   if (title === "Origine") {
       getorigines();
       postOrigin();
   } else if (title === "Machines") {
       getMachines();
       PostMachine();
   } else {
       console.log("failed functions student2");
   }
}
pleaseWork();
</code></pre>
<h3 class="toc-header" id="vandaag-funtie"> vandaag funtie:</h3>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">var vandaag = new Date();

function formatDatum(date, letter) {
    let dag = date.getDate();
    let maand = date.getMonth() + 1;  // maanden tellen vanaf 0
    let jaar = date.getFullYear();

    // Voeg een 0 toe als dag of maand 1-cijferig is
    if (dag &lt; 10) dag = '0' + dag;
    if (maand &lt; 10) maand = '0' + maand;

    if (letter === "a"){
        return `${jaar}-${maand}-${dag}`;
    }
    else {
        return `${dag}/${maand}/${jaar}`;
    }


}

console.log(formatDatum(vandaag));  // vb: "27/05/2025"
console.log(formatDatum(vandaag, "a")) // 2025-05-27
</code></pre>
<h2 class="toc-header" id="getter"> GETTER</h2>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">function get() {
   const machineOutput = document.querySelector("#machines");
   console.log("API request sent...");
   // fetch("http://127.0.0.1:8000/machines/accordion")
   fetch("https://fullstack-25-api-team-105.vercel.app/machines/accordion")
       .then((antwoord) =&gt; {
           if (!antwoord.ok) {
               throw Error("Je hebt het verputst");
           }
           return antwoord.json();
       })
       .then((data) =&gt; {
           console.log("Machines data:", data);
           if (!data.machines || data.machines.length === 0) {
               console.error("Geen machines gevonden!");
               machineOutput.innerHTML = `&lt;div class="alert alert-primary" role="alert"&gt;
                 NIKS gevonden!!
               &lt;/div&gt;`;
               return;
           }


           let accordion = "";
           data.machines.forEach((machine) =&gt; {
               console.log(machine);
               accordion += `stuk code van html maar dan met ${databasename.id bv ${machine.name} of ${machine.description}`;
           });
           machineOutput.innerHTML = accordion;
       })
       .catch((error) =&gt; {
           console.error(error);
           machineOutput.innerHTML = `&lt;div
           class="alert alert-primary" role="alert"&gt;
             Sorry, we could not retrieve our machines.
             &lt;/div&gt;`;
       });
}
</code></pre>
<h2 class="toc-header" id="post-1"> POST</h2>
<pre class="prismjs line-numbers" v-pre="true"><code class="language-">function PostMachine() {
   const submitButton = document.getElementById("send");


   const postContact = (body) =&gt; {
       consturl="https://fullstack-25-api-team-105.vercel.app/machines";
       const options = {
           method: "POST",
           headers: {
               "Content-Type": "application/json"
           },
           body: JSON.stringify(body)
       };
       fetch(url, options)
           .then((response) =&gt; response.json())
           .then((data) =&gt; {
               console.log("data", data);
           })
           .catch((error) =&gt; console.error(error));
   };
   submitButton.addEventListener("click", (event) =&gt; {
       event.preventDefault();
       const name = document.getElementById("name").value;
      constcomment=document.getElementById("comment").value;
       const price = document.getElementById("price").value;

       const body = {
           name: name,
           comment: comment,
           price: price,
                  };
       postContact(body);
       document.querySelector("form").reset();
   });
}
</code></pre>
<p><a class="is-internal-link is-valid-page" href="/nl/home/damned123/Bureaublad/semester2Examens/cloud/wiki/wiki">Cloud &amp; Dev Ops</a></p>
